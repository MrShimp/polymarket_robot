# BTC 15分钟策略 V2 快速开始指南

## 🚀 快速启动

### 1. 运行测试验证功能
```bash
python3 test_btc_strategy_v2.py
```

### 2. 交互式启动策略
```bash
python3 start_btc_15min_strategy_v2.py
```

### 3. 命令行启动策略
```bash
python3 start_btc_15min_strategy_v2.py <market_id> <amount> <baseline_price>
```

## 📋 策略参数对比

| 参数 | V1 策略 | V2 策略 |
|------|---------|---------|
| **交易时段** | 10:00-19:00 | 10:00-12:00 / 15:30-19:00 |
| **波动率过滤** | ±30刀 (基于基准价格) | 15分钟波动≥30刀 |
| **趋势过滤** | 无 | EMA9 vs EMA21 |
| **入场条件** | 70%概率 | 突破回踩 + 0.60-0.62区间 |
| **止盈策略** | 90%概率 | 90%概率 或 RR≥1.5 |
| **止损策略** | 55%概率 | 5分钟结构点 - 缓冲 |
| **风控机制** | 无 | 连续2笔止损 → 冷却45分钟 |

## 🎯 V2 策略核心改进

### 1. 更精准的交易时段
- **上午**: 10:00-12:00 (欧洲开盘前)
- **下午**: 15:30-19:00 (美股开盘时段)
- 避开低波动时段，提高交易效率

### 2. 多重过滤机制
```
时间过滤 → 波动率过滤 → EMA趋势过滤 → 突破回踩确认 → 概率区间检查
```

### 3. 智能入场策略
- **概率区间**: 0.60-0.62 (相对低风险区域)
- **突破确认**: 5分钟回踩验证
- **趋势一致**: EMA9/EMA21方向确认

### 4. 动态止损机制
- 基于5分钟价格结构点
- 自动添加2%缓冲
- 比固定百分比更灵活

### 5. 风险控制升级
- 连续止损监控
- 自动冷却机制
- 防止情绪化交易

## 📊 实时监控信息

策略运行时会显示：
```
📊 [15:30] BTC: $88,417.02 | 交易时段: ✅ | 波动率: ✅ | EMA: ✅ | 风控: ✅
   当前时段: 15.5:00-19:00
```

## 📁 文件说明

| 文件 | 说明 |
|------|------|
| `btc_15min_strategy_v2.py` | 主策略文件 |
| `start_btc_15min_strategy_v2.py` | 启动脚本 |
| `test_btc_strategy_v2.py` | 功能测试脚本 |
| `BTC_15MIN_STRATEGY_V2_README.md` | 详细文档 |

## 🔧 配置要求

### 环境配置
- Python 3.8+
- 网络连接稳定
- Polymarket API访问权限

### 资金要求
- 建议最小交易金额: $5
- 推荐交易金额: $10-50
- 确保账户有足够余额

## ⚠️ 注意事项

### 1. 测试建议
- 先在测试网运行
- 小额资金验证
- 观察几个交易周期

### 2. 风险提醒
- 加密货币市场波动大
- 策略不保证盈利
- 合理控制仓位

### 3. 监控要点
- 关注连续止损情况
- 监控网络连接状态
- 定期检查日志文件

## 📈 使用建议

### 新手用户
1. 先运行测试脚本了解功能
2. 使用小额资金($5-10)
3. 观察1-2天的运行情况
4. 根据表现调整参数

### 进阶用户
1. 可以调整策略参数
2. 结合多个市场分散风险
3. 定期分析交易记录
4. 优化入场和出场逻辑

## 🆘 常见问题

### Q: 策略不入场怎么办？
A: 检查以下条件：
- 是否在交易时段
- 波动率是否满足≥30
- EMA趋势是否明确
- 概率是否在0.60-0.62区间

### Q: 连续止损怎么办？
A: 策略会自动进入45分钟冷却期，期间不会交易

### Q: 如何查看交易记录？
A: 查看 `data/btc_trades_v2/` 目录下的JSON文件

### Q: 如何停止策略？
A: 按 `Ctrl+C` 安全停止策略

---

**开始你的V2策略之旅！** 🚀