# Polymarketè‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿé›†æˆäº†ç­–ç•¥æ‰«æå’Œè‡ªåŠ¨äº¤æ˜“åŠŸèƒ½ï¼Œå¯ä»¥ï¼š
1. è‡ªåŠ¨æ‰«æPolymarketä¸Šçš„é«˜ç½®ä¿¡åº¦äº¤æ˜“æœºä¼š
2. æ ¹æ®é¢„è®¾å‚æ•°è‡ªåŠ¨æ‰§è¡Œäº¤æ˜“
3. ç›‘æ§è®¢å•çŠ¶æ€å’Œäº¤æ˜“ç»“æœ
4. æä¾›è¯¦ç»†çš„äº¤æ˜“ç»Ÿè®¡å’Œé£é™©ç®¡ç†

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### 1. è®¾ç½®APIå‡­è¯

é¦–å…ˆéœ€è¦è·å–Polymarketçš„APIå‡­è¯ï¼š

1. è®¿é—® [Polymarket Profile](https://polymarket.com/profile)
2. ç”ŸæˆAPI Keyã€API Secretå’ŒPassphrase
3. è¿è¡Œå‡­è¯è®¾ç½®å·¥å…·ï¼š

```bash
python3 trading/setup_credentials.py
```

æŒ‰ç…§æç¤ºè¾“å…¥ä½ çš„APIå‡­è¯å’Œäº¤æ˜“å‚æ•°ã€‚

### 2. æµ‹è¯•è¿æ¥

```bash
python3 trading/setup_credentials.py --test
```

### 3. å¼€å§‹äº¤æ˜“

```bash
# å•æ¬¡æ‰«æå’Œäº¤æ˜“ï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰
python3 trading/strategy_trader.py --mode single

# è¿ç»­äº¤æ˜“æ¨¡å¼
python3 trading/strategy_trader.py --mode continuous --interval 10

# å®ç›˜äº¤æ˜“ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
python3 trading/strategy_trader.py --mode single --real-trade
```

## ğŸ“Š åŠŸèƒ½è¯¦è§£

### æ ¸å¿ƒç»„ä»¶

1. **PolymarketCLOBClient** (`trading/polymarket_clob_client.py`)
   - å®Œæ•´çš„CLOB APIå®¢æˆ·ç«¯
   - æ”¯æŒè®¢å•ç®¡ç†ã€å¸‚åœºæ•°æ®ã€è´¦æˆ·ä¿¡æ¯
   - åŒ…å«ç­¾åè®¤è¯å’Œé”™è¯¯å¤„ç†

2. **PolymarketTrader** (`trading/polymarket_clob_client.py`)
   - é«˜çº§äº¤æ˜“åŠŸèƒ½å°è£…
   - å¸‚åœºå†²å‡»ä¼°ç®—
   - æ»‘ç‚¹æ£€æŸ¥å’Œé£é™©ç®¡ç†

3. **StrategyTrader** (`trading/strategy_trader.py`)
   - ç­–ç•¥å’Œäº¤æ˜“çš„é›†æˆæ‰§è¡Œå™¨
   - æ”¯æŒå•æ¬¡å’Œè¿ç»­äº¤æ˜“æ¨¡å¼
   - å®Œæ•´çš„ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½

### APIåŠŸèƒ½

#### è´¦æˆ·ç®¡ç†
```python
# è·å–ä½™é¢
balance = client.get_balance()

# è·å–æŒä»“
positions = client.get_positions()

# è·å–USDCä½™é¢
usdc_balance = client.get_usdc_balance()
```

#### å¸‚åœºæ•°æ®
```python
# è·å–å¸‚åœºåˆ—è¡¨
markets = client.get_markets(limit=100)

# è·å–è®¢å•ç°¿
orderbook = client.get_orderbook(token_id)

# è·å–æœ€ä½³ä¹°å–ä»·
best_prices = client.get_best_bid_ask(token_id)
```

#### è®¢å•ç®¡ç†
```python
# åˆ›å»ºé™ä»·ä¹°å•
order = client.buy_limit(token_id, size="10", price="0.65")

# åˆ›å»ºå¸‚ä»·å–å•
order = client.sell_market(token_id, size="10")

# å–æ¶ˆè®¢å•
client.cancel_order(order_id)

# è·å–è®¢å•çŠ¶æ€
order_status = client.get_order(order_id)
```

## âš™ï¸ é…ç½®å‚æ•°

### ç­–ç•¥å‚æ•°
- `time_threshold_minutes`: æ—¶é—´é˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰
- `min_confidence`: æœ€å°èƒœç‡
- `max_confidence`: æœ€å¤§èƒœç‡

### äº¤æ˜“å‚æ•°
- `trade_amount`: æ¯ç¬”äº¤æ˜“é‡‘é¢ï¼ˆUSDCï¼‰
- `max_slippage`: æœ€å¤§æ»‘ç‚¹ï¼ˆå¦‚0.02 = 2%ï¼‰
- `order_timeout`: è®¢å•è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

### é£é™©ç®¡ç†
- `max_position_size`: æœ€å¤§ä»“ä½å¤§å°
- `max_daily_trades`: æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°
- `min_confidence`: æœ€å°ç½®ä¿¡åº¦è¦æ±‚

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### å•æ¬¡äº¤æ˜“
```bash
# åŸºç¡€å•æ¬¡äº¤æ˜“
python3 trading/strategy_trader.py --mode single

# è‡ªå®šä¹‰å‚æ•°
python3 trading/strategy_trader.py \
  --mode single \
  --time 30 \
  --min-conf 0.85 \
  --max-conf 0.95 \
  --trade-amount 20.0 \
  --max-slippage 0.03
```

### è¿ç»­äº¤æ˜“
```bash
# æ¯10åˆ†é’Ÿæ‰«æä¸€æ¬¡
python3 trading/strategy_trader.py --mode continuous --interval 10

# é™åˆ¶æœ€å¤§è¿­ä»£æ¬¡æ•°
python3 trading/strategy_trader.py --mode continuous --interval 5 --max-iter 20

# å®ç›˜è¿ç»­äº¤æ˜“
python3 trading/strategy_trader.py \
  --mode continuous \
  --interval 10 \
  --real-trade \
  --trade-amount 10.0
```

### è´¦æˆ·ç›‘æ§
```bash
# æŸ¥çœ‹è´¦æˆ·çŠ¶æ€
python3 trading/strategy_trader.py --account-status

# ç»“åˆäº¤æ˜“æ‰§è¡Œ
python3 trading/strategy_trader.py --mode single --account-status
```

## ğŸ›¡ï¸ å®‰å…¨å’Œé£é™©ç®¡ç†

### é»˜è®¤å®‰å…¨è®¾ç½®
1. **æ¨¡æ‹Ÿæ¨¡å¼**: é»˜è®¤å¯ç”¨ï¼Œä¸ä¼šæ‰§è¡Œå®é™…äº¤æ˜“
2. **æµ‹è¯•ç½‘**: æ¨èå…ˆåœ¨æµ‹è¯•ç½‘æµ‹è¯•
3. **å‚æ•°éªŒè¯**: è‡ªåŠ¨éªŒè¯äº¤æ˜“å‚æ•°
4. **æ»‘ç‚¹ä¿æŠ¤**: è¶…è¿‡æœ€å¤§æ»‘ç‚¹æ—¶æ‹’ç»äº¤æ˜“

### é£é™©æ§åˆ¶
1. **ä»“ä½é™åˆ¶**: å•ç¬”äº¤æ˜“å’Œæ€»ä»“ä½é™åˆ¶
2. **ç½®ä¿¡åº¦è¿‡æ»¤**: åªäº¤æ˜“é«˜ç½®ä¿¡åº¦æœºä¼š
3. **æ—¶é—´çª—å£**: åªäº¤æ˜“å³å°†ç»“æŸçš„å¸‚åœº
4. **è®¢å•ç›‘æ§**: è‡ªåŠ¨ç›‘æ§è®¢å•æ‰§è¡ŒçŠ¶æ€

### æœ€ä½³å®è·µ
1. **ä»å°é¢å¼€å§‹**: åˆå§‹ä½¿ç”¨å°é¢èµ„é‡‘æµ‹è¯•
2. **ç›‘æ§ç»“æœ**: å®šæœŸæ£€æŸ¥äº¤æ˜“ç»“æœå’Œç»Ÿè®¡
3. **å‚æ•°è°ƒä¼˜**: æ ¹æ®å¸‚åœºæƒ…å†µè°ƒæ•´å‚æ•°
4. **é£é™©åˆ†æ•£**: ä¸è¦å°†æ‰€æœ‰èµ„é‡‘æŠ•å…¥å•ä¸€ç­–ç•¥

## ğŸ“ˆ äº¤æ˜“æµç¨‹

### è‡ªåŠ¨äº¤æ˜“æµç¨‹
1. **ç­–ç•¥æ‰«æ**: æ‰«æç¬¦åˆæ¡ä»¶çš„å¸‚åœºæœºä¼š
2. **å‚æ•°éªŒè¯**: éªŒè¯äº¤æ˜“é‡‘é¢å’Œç½®ä¿¡åº¦
3. **å¸‚åœºåˆ†æ**: è·å–è®¢å•ç°¿å’Œæœ€ä½³ä»·æ ¼
4. **æ»‘ç‚¹æ£€æŸ¥**: ç¡®ä¿æ»‘ç‚¹åœ¨å¯æ¥å—èŒƒå›´å†…
5. **è®¢å•æäº¤**: æäº¤é™ä»·æˆ–å¸‚ä»·è®¢å•
6. **çŠ¶æ€ç›‘æ§**: ç›‘æ§è®¢å•æ‰§è¡ŒçŠ¶æ€
7. **ç»“æœè®°å½•**: è®°å½•äº¤æ˜“ç»“æœå’Œç»Ÿè®¡

### è®¢å•ç±»å‹é€‰æ‹©
- **å¸‚ä»·å•**: æµåŠ¨æ€§å……è¶³æ—¶ä½¿ç”¨ï¼Œå¿«é€Ÿæˆäº¤
- **é™ä»·å•**: æµåŠ¨æ€§ä¸è¶³æ—¶ä½¿ç”¨ï¼Œæ§åˆ¶ä»·æ ¼

## ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡

### å®æ—¶ç›‘æ§
- æ‰«æè¿›åº¦å’Œå‘ç°çš„æœºä¼š
- äº¤æ˜“æ‰§è¡ŒçŠ¶æ€
- è®¢å•æˆäº¤æƒ…å†µ
- è´¦æˆ·ä½™é¢å˜åŒ–

### ç»Ÿè®¡ä¿¡æ¯
- æ€»æ‰«ææ¬¡æ•°
- å‘ç°æœºä¼šæ•°é‡
- æ‰§è¡Œäº¤æ˜“æ•°é‡
- æˆåŠŸç‡ç»Ÿè®¡
- æ€»äº¤æ˜“é‡

### æ—¥å¿—è®°å½•
- è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—
- é”™è¯¯å’Œå¼‚å¸¸è®°å½•
- äº¤æ˜“å†³ç­–è¿‡ç¨‹
- æ€§èƒ½æŒ‡æ ‡

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIè¿æ¥å¤±è´¥**
   ```
   è§£å†³æ–¹æ¡ˆ:
   - æ£€æŸ¥APIå‡­è¯æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç½‘ç»œè¿æ¥
   - éªŒè¯APIæƒé™è®¾ç½®
   ```

2. **è®¢å•è¢«æ‹’ç»**
   ```
   å¯èƒ½åŸå› :
   - ä½™é¢ä¸è¶³
   - ä»·æ ¼è¶…å‡ºèŒƒå›´
   - å¸‚åœºå·²å…³é—­
   - å‚æ•°æ ¼å¼é”™è¯¯
   ```

3. **æ»‘ç‚¹è¿‡å¤§**
   ```
   è§£å†³æ–¹æ¡ˆ:
   - å‡å°‘äº¤æ˜“é‡‘é¢
   - è°ƒæ•´æœ€å¤§æ»‘ç‚¹å‚æ•°
   - é€‰æ‹©æµåŠ¨æ€§æ›´å¥½çš„å¸‚åœº
   ```

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
python3 trading/strategy_trader.py --mode single --debug

# ä»…æ¨¡æ‹Ÿï¼Œä¸æ‰§è¡Œå®é™…äº¤æ˜“
python3 trading/strategy_trader.py --mode single --dry-run
```

## ğŸ“ é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶ä½ç½®
- `trading_config.json`: ä¸»é…ç½®æ–‡ä»¶
- `trading_config_sample.json`: ç¤ºä¾‹é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶æ ¼å¼
```json
{
  "api_credentials": {
    "api_key": "your_api_key",
    "api_secret": "your_api_secret",
    "passphrase": "your_passphrase"
  },
  "network": {
    "testnet": true,
    "base_url": ""
  },
  "trading": {
    "default_trade_amount": 10.0,
    "max_slippage": 0.02,
    "order_timeout": 300,
    "max_position_size": 100.0,
    "max_daily_trades": 10,
    "min_confidence": 0.85,
    "auto_trade_enabled": false,
    "dry_run_mode": true
  }
}
```

### ç¯å¢ƒå˜é‡
```bash
export POLYMARKET_API_KEY='your_api_key'
export POLYMARKET_API_SECRET='your_api_secret'
export POLYMARKET_PASSPHRASE='your_passphrase'
export POLYMARKET_TESTNET='true'
export DEFAULT_TRADE_AMOUNT='10.0'
export MAX_SLIPPAGE='0.02'
export DRY_RUN_MODE='true'
```

## ğŸ¯ é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰ç­–ç•¥
å¯ä»¥é€šè¿‡ä¿®æ”¹ç­–ç•¥å‚æ•°æ¥é€‚åº”ä¸åŒçš„å¸‚åœºæ¡ä»¶ï¼š

```python
# ä¿å®ˆç­–ç•¥
strategy_config = {
    'time_threshold_minutes': 15,
    'min_confidence': 0.90,
    'max_confidence': 0.95
}

# æ¿€è¿›ç­–ç•¥
strategy_config = {
    'time_threshold_minutes': 60,
    'min_confidence': 0.80,
    'max_confidence': 0.95
}
```

### æ‰¹é‡äº¤æ˜“
ç³»ç»Ÿæ”¯æŒåŒæ—¶å¤„ç†å¤šä¸ªäº¤æ˜“æœºä¼šï¼ŒæŒ‰ç½®ä¿¡åº¦æ’åºæ‰§è¡Œã€‚

### è®¢å•ç®¡ç†
- è‡ªåŠ¨å–æ¶ˆè¶…æ—¶è®¢å•
- éƒ¨åˆ†æˆäº¤å¤„ç†
- è®¢å•çŠ¶æ€å®æ—¶ç›‘æ§

## âš ï¸ é‡è¦æé†’

1. **èµ„é‡‘å®‰å…¨**: 
   - å§‹ç»ˆä»æµ‹è¯•ç½‘å’Œå°é¢èµ„é‡‘å¼€å§‹
   - ä¸è¦æŠ•å…¥è¶…è¿‡ä½ èƒ½æ‰¿å—æŸå¤±çš„èµ„é‡‘

2. **å¸‚åœºé£é™©**: 
   - é¢„æµ‹å¸‚åœºå­˜åœ¨ä¸ç¡®å®šæ€§
   - é«˜ç½®ä¿¡åº¦ä¸ç­‰äºé›¶é£é™©

3. **æŠ€æœ¯é£é™©**: 
   - ç½‘ç»œå»¶è¿Ÿå¯èƒ½å½±å“äº¤æ˜“æ‰§è¡Œ
   - APIé™åˆ¶å¯èƒ½å¯¼è‡´äº¤æ˜“å¤±è´¥

4. **åˆè§„è¦æ±‚**: 
   - ç¡®ä¿ä½ çš„äº¤æ˜“ç¬¦åˆå½“åœ°æ³•å¾‹æ³•è§„
   - äº†è§£ç¨åŠ¡ç”³æŠ¥è¦æ±‚

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æŒ‡å—çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯
3. è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æäº¤Issue

---

**å…è´£å£°æ˜**: æœ¬ç³»ç»Ÿä»…ä¾›æ•™è‚²å’Œç ”ç©¶ç›®çš„ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚äº¤æ˜“æœ‰é£é™©ï¼Œè¯·è°¨æ…å†³ç­–ã€‚